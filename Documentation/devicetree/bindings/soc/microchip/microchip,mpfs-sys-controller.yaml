# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
%YAML 1.2
---
$id: "http://devicetree.org/schemas/soc/microchip/microchip,mpfs-sys-controller.yaml#"
$schema: "http://devicetree.org/meta-schemas/core.yaml#"

title: Microchip PolarFire SoC (MPFS) MSS (microprocessor subsystem) system controller

maintainers:
  - Conor Dooley <conor.dooley@microchip.com>

description: |
  The PolarFire SoC system controller is communicated with via a mailbox.
  This document describes the bindings for the client portion of that mailbox.

properties:
  mboxes:
    maxItems: 1

  compatible:
    items:
      - const: microchip,mpfs-sys-controller

  rng:
    type: object

    description: |
      The hardware random number generator on the Polarfire SoC is
      accessed via the mailbox interface provided by the system controller

    properties:
      compatible:
        const: microchip,mpfs-rng

    required:
      - compatible

  sysserv:
    type: object

    description: |
      The PolarFire SoC system controller is communicated with via a mailbox.
      This binding represents several of the functions provided by the system
      controller which do not belong in a specific subsystem, such as reading
      the fpga device certificate, all of which follow the same format:
        - a command + optional payload sent to the sys controller
        - a status + a payload returned to Linux

    properties:
      compatible:
        const: microchip,mpfs-generic-service

    required:
      - compatible

required:
  - compatible
  - mboxes

additionalProperties: false

examples:
  - |
    syscontroller {
      compatible = "microchip,mpfs-sys-controller";
      mboxes = <&mbox 0>;
      rng: rng {
        compatible = "microchip,mpfs-rng";
      };
      sysserv: sysserv {
        compatible = "microchip,mpfs-generic-service";
      };
    };
